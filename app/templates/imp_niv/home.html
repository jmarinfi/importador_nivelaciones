{% extends 'base.html' %}

{% block content %}

<div class="container">
  <div class="d-grid gap-2 p-4" id="d-estadillo">
    <a class="btn btn-lg btn-primary" href="{{ url_for('imp_niv.descargar_estadillos') }}" role="button"
      download>Descarga estadillos de campo</a>
  </div>
</div>

<div class="container">
  <form class="p-4" action="{{ url_for('imp_niv.home') }}" method="post" enctype="multipart/form-data" id="form-gsi">
    <fieldset>
      <legend>Importador de Nivelaciones</legend>
      <div class="form-group">
        <label for="formFile" class="form-label mt-4">Selecciona el archivo GSI</label>
        <input class="form-control" type="file" id="formFile" name="formFile" required>
      </div>
      <button type="submit" class="btn btn-primary mt-3" id="submit-gsi">Importar</button>
    </fieldset>
  </form>
</div>

{% if tables %}

<script>
  var errorDeCierre = {{ error_de_cierre|safe }};
  var distanciaTotal = {{ distancia_total|safe }};
  var errorKmPosteriori = {{ error_km_posteriori|safe }};
  var tolerancia = {{ tolerancia|safe }};
  var tables = {{tables|safe}};
</script>

<div id="result" class="container"></div>

<div id="accept-reject-all"></div>

<form id="hidden-form" action="{{ url_for('imp_niv.procesar') }}" method="post" style="display: none;">
  <input type="text" id="hidden-input">
</form>

<div class="progress d-none" id="progress-bar">
  <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" style="width: 75%"></div>
</div>

<!-- Enlace al archivo JS de la pÃ¡gina -->
<script src="{{ url_for('static', filename='js/home.js') }}"></script>

{% endif %}

<script src="{{ url_for('static', filename='js/home-get.js') }}"></script>

{% endblock %}